<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>orutego - Travel Distance & Time Calculator</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles.css') }}" rel="stylesheet">
    <script>
        // Google Maps API callback function
        function initMap() {
            window.mapInitialized = true;
            if (window.orutegoApp) {
                window.orutegoApp.initializeGoogleMaps();
            }
        }
    </script>
</head>
<body class="min-h-screen bg-gradient">
    <div class="container">
        <!-- Header -->
        <header class="header fade-in">
            <h1 class="header-title">ðŸ§­ orutego</h1>
            <p class="header-subtitle">Travel Distance & Time Calculator</p>
        </header>

        <div class="main-layout">
            <!-- Left Panel - Controls -->
            <div class="panel-left slide-in-left">
                <div class="card">
                    <!-- API Key Section -->
                    <div class="section">
                        <h3 class="section-title">
                            <i class="fas fa-key"></i>
                            Google Maps API Key
                        </h3>
                        <div class="input-group">
                            <div class="input-container">
                                <input type="password" id="apiKey" placeholder="Enter your Google Maps API Key" class="input-field" />
                                <button type="button" id="toggleApiKey" class="toggle-btn">
                                    <i class="fas fa-eye" id="eyeIcon"></i>
                                </button>
                            </div>
                            <button id="saveApiKey" class="btn btn-outline">Save</button>
                        </div>
                        <div id="apiKeyStatus" class="status-message"></div>
                    </div>

                    <!-- Address Inputs -->
                    <div class="section">
                        <h3 class="section-title">
                            <i class="fas fa-map-marker-alt"></i>
                            Addresses
                        </h3>
                        
                        <div class="address-inputs">
                            <div class="input-with-icon">
                                <i class="fas fa-map-marker-alt text-green"></i>
                                <input type="text" id="origin" placeholder="Origin address" class="input-field" />
                            </div>
                            
                            <div class="swap-container">
                                <button id="swapAddresses" class="btn-swap">
                                    <i class="fas fa-arrows-up-down"></i>
                                </button>
                            </div>
                            
                            <div class="input-with-icon">
                                <i class="fas fa-map-marker-alt text-red"></i>
                                <input type="text" id="destination" placeholder="Destination address" class="input-field" />
                            </div>
                        </div>
                    </div>

                    <!-- Travel Mode -->
                    <div class="section">
                        <h3 class="section-title">
                            <i class="fas fa-route"></i>
                            Travel Mode
                        </h3>
                        <div class="travel-modes">
                            <button class="travel-mode active" data-mode="driving">
                                <i class="fas fa-car"></i>
                                Driving
                            </button>
                            <button class="travel-mode" data-mode="walking">
                                <i class="fas fa-walking"></i>
                                Walking
                            </button>
                            <button class="travel-mode" data-mode="bicycling">
                                <i class="fas fa-bicycle"></i>
                                Cycling
                            </button>
                            <button class="travel-mode" data-mode="transit">
                                <i class="fas fa-bus"></i>
                                Transit
                            </button>
                        </div>
                    </div>

                    <!-- Calculate Button -->
                    <button id="calculateBtn" class="btn btn-primary btn-large">
                        <i class="fas fa-calculator"></i>
                        <span id="calculateText">Calculate Route</span>
                    </button>

                    <!-- Error Display -->
                    <div id="errorMessage" class="error-message"></div>
                </div>
            </div>

            <!-- Right Panel - Results -->
            <div class="panel-right slide-in-right">
                <div class="card">
                    <h3 class="section-title">
                        <i class="fas fa-compass"></i>
                        Results
                    </h3>
                    
                    <div id="resultsContainer">
                        <div id="noResults" class="no-results">
                            <i class="fas fa-compass compass-icon"></i>
                            <p>Enter addresses and calculate to see results</p>
                        </div>
                        
                        <div id="resultsContent" class="results-content hidden">
                            <div class="results-grid">
                                <div class="result-card card-teal">
                                    <div class="result-label">Distance</div>
                                    <div id="distanceValue" class="result-value">0 km</div>
                                </div>
                                <div class="result-card card-cyan">
                                    <div class="result-label">
                                        <i class="fas fa-clock"></i>
                                        Travel Time
                                    </div>
                                    <div id="durationValue" class="result-value">00:00</div>
                                    <div id="decimalHoursValue" class="result-decimal">0h decimal</div>
                                </div>
                            </div>
                            
                            <div class="coordinate-data">
                                <div class="coordinate-label">Coordinate Data:</div>
                                <div class="coordinate-container">
                                    <code id="coordinateOutput" class="coordinate-output"></code>
                                    <button id="copyBtn" class="copy-btn" title="Copy to clipboard">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                                <div id="copyStatus" class="copy-status"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Section -->
        <div class="map-section slide-in-up">
            <div class="card">
                <h3 class="section-title">Route Map</h3>
                <div class="map-container">
                    <div id="googleMap" style="width: 100%; height: 400px; border-radius: 8px;"></div>
                    <div id="mapPlaceholder" class="map-placeholder">
                        <i class="fas fa-map map-icon"></i>
                        <p>Route will be displayed here after calculation</p>
                        <p class="map-loading">Loading Google Maps...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <i class="fas fa-calculator spinning"></i>
            <p>Calculating route...</p>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    
    <!-- Google Maps API will be loaded dynamically by JavaScript -->
    <div id="googleMapsApiStatus" style="display: none;"></div>
</body>
</html>
